# Docker Compose environment (only for compose variable interpolation)
#
# Why this file exists:
# - Docker Compose automatically reads `.env` for variable interpolation.
# - Values like bcrypt hashes contain `$...` and cause Compose interpolation warnings/errors.
# - Keep `.env` for the application (api env_file), and use this file for Compose itself.
#
# Usage:
#   cp .env.compose.example .env.compose
#   make dev

# Database container credentials
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=university_nav

# Expose Postgres on host (optional)
DB_PORT=5432

# API host port
API_PORT=8000

# Frontend (optional)
FRONTEND_API_URL=http://localhost:8000
FRONTEND_PORT=8080
FRONTEND_APP_NAME=Universitet Navigatsiya Tizimi
FRONTEND_ENV=development
FRONTEND_ENABLE_DEBUG=true

# =========================
# Resource limits (DEV)
# =========================
# Note: Docker Desktop’da umumiy CPU/RAM limitini ham sozlab qo‘ying.

# Postgres
DB_CPUS=1.0
DB_MEM_LIMIT=1024m
DB_MEM_RESERVATION=256m
DB_PIDS_LIMIT=200

# API
API_CPUS=1.5
API_MEM_LIMIT=1024m
API_MEM_RESERVATION=256m
API_PIDS_LIMIT=300

# Frontend (Vite dev server)
FRONTEND_CPUS=1.0
FRONTEND_MEM_LIMIT=768m
FRONTEND_MEM_RESERVATION=128m
FRONTEND_PIDS_LIMIT=250

# Log rotation (json-file)
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3
