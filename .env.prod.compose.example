# Docker Compose environment (PRODUCTION example)
#
# Usage:
#   cp .env.prod.compose.example .env.prod.compose
#   COMPOSE_ENV=.env.prod.compose make prod
#
# Keep application secrets in `bino_xarita_admin/.env` (mounted read-only in prod).

# ==============
# Database (prod)
# ==============
DB_USER=postgres
DB_PASSWORD=change-this-strong-password
DB_NAME=university_nav
DB_PORT=5432

# API
API_PORT=8000

# Frontend
FRONTEND_API_URL=http://localhost:8000
FRONTEND_PORT=8080
FRONTEND_APP_NAME=Universitet Navigatsiya Tizimi
FRONTEND_ENV=production
FRONTEND_ENABLE_DEBUG=false
FRONTEND_STORAGE_KEY=change-this-to-random-string-in-production

# =========================
# Resource limits (PROD)
# =========================
DB_CPUS=2.0
DB_MEM_LIMIT=2048m
DB_MEM_RESERVATION=512m
DB_PIDS_LIMIT=300

API_CPUS=2.0
API_MEM_LIMIT=2048m
API_MEM_RESERVATION=512m
API_PIDS_LIMIT=400

FRONTEND_CPUS=0.5
FRONTEND_MEM_LIMIT=256m
FRONTEND_MEM_RESERVATION=64m
FRONTEND_PIDS_LIMIT=150

# Log rotation (json-file)
LOG_MAX_SIZE=20m
LOG_MAX_FILE=5

# Gunicorn worker count (keep small for this project)
WEB_CONCURRENCY=1
